<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>IP Camera Captioning</title>
<style>
  video, img { max-width: 100%; }
  #caption { margin-top: 10px; font-size: 1.2em; font-weight: bold; }
</style>
</head>
<body>
<h2>Live Camera Feed</h2>

<img src="{{ url_for('video_feed') }}" width="640" height="480"><br><br>
<button id="capture-btn">Capture & Caption</button>
<p id="caption"></p>

<script>
const btn = document.getElementById('capture-btn');
const captionEl = document.getElementById('caption');

btn.onclick = async () => {
    captionEl.textContent = 'Generating caption...';
    try {
        const res = await fetch('/caption', { method: 'POST' });
        const data = await res.json();
        captionEl.textContent = 'Caption: ' + data.caption;
    } catch (err) {
        captionEl.textContent = 'Error generating caption';
    }
};
</script>
</body>
</html>
